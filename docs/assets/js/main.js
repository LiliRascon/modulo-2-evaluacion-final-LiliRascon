"use strict";function getInfo(){const e="http://api.tvmaze.com/search/shows?q="+seriesInput.value;fetch(e).then(e=>e.json()).then(e=>{series=e,console.log(series),renderSerie(series)})}function renderSerie(e){listSerieElem.innerHTML="";for(let t of e)null!==t.show.image?listSerieElem.innerHTML+=`<li id=${t.show.id} class="listElem"><div class="container"><p class="titleSerie">${t.show.name}</p><img class="spaceImg" src= ${t.show.image.medium} alt="serie" title= "img Serie"></div></li>`:listSerieElem.innerHTML+=`<li id="${t.show.id}"  class="listElem"><div class="container"><p class="titleSerie">${t.show.name}</p><img class="spaceImg" src= ${imageDefault} alt="serie" title="default img serie"></div></li>`,addLiListener()}function addLiListener(){const e=document.querySelectorAll(".listElem");for(let t of e)t.addEventListener("click",selectSerie)}function setLocalStorage(){localStorage.setItem("serieInfo",JSON.stringify(selectedSeries))}function readLocalStorage(){let e=JSON.parse(localStorage.getItem("serieInfo"));return null!==e?e:[]}const seriesInput=document.querySelector("#serieName"),btnElem=document.querySelector("#btn"),listSerieElem=document.querySelector(".listSerie"),listFavorite=document.querySelector(".listFavorite1"),textSerieExistElem=document.querySelector(".textSerieExist"),imageDefault="https://via.placeholder.com/210x295/434750/FFFFFF/?text=TV",selectedSeries=readLocalStorage();let series=null;function selectSerie(e){e.currentTarget.classList.add("backFav");const t=e.currentTarget.id,i=getSerieObject(t);-1===selectedSeries.indexOf(t)?(selectedSeries.push(i.show),setLocalStorage(),renderFavourites(selectedSeries)):alert("Esa serie ya est√° en favoritos")}function getSerieObject(e){for(let t of series)if(t.show.id===parseInt(e))return t}function renderFavourites(e){listFavorite.innerHTML="";for(let t of e)null!==t.image?listFavorite.innerHTML+=`<li id=${t.id} class="listElem"><div class="container"><img class="sizeImg" src=${t.image.medium} title="imagen de tu serie favorita"></div><span class="titleSerie">${t.name}</span><button class="btnX" type='button' title="elimina de tus favoritos">x</button></li>`:listFavorite.innerHTML+=`<li id=${t.id} class="listElem"><div class="container"><img class="sizeImg" src=${imageDefault} title="imagen de tu serie favorita por defecto"></div><span class="titleSerie">${t.name}</span><button class="btnX" type='button' title="elimina de tus favoritos">x</button></li>`}renderFavourites(selectedSeries),btnElem.addEventListener("click",getInfo);